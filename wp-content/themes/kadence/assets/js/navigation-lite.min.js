(function(){"use strict";window.kadence={initOutlineToggle:function(){document.body.addEventListener("keydown",function(){document.body.classList.remove("hide-focus-outline")}),document.body.addEventListener("mousedown",function(){document.body.classList.add("hide-focus-outline")})},getOffset:function(a){if(a instanceof HTMLElement){var b=a.getBoundingClientRect();return{top:b.top+window.pageYOffset,left:b.left+window.pageXOffset}}return{top:null,left:null}},findParents:function(a,b){function c(a){var e=a.parentNode;e instanceof HTMLElement&&(e.matches(b)&&d.push(e),c(e))}var d=[];return c(a),d},toggleAttribute:function(a,b,c,d){c===void 0&&(c=!0),d===void 0&&(d=!1),a.getAttribute(b)===c?a.setAttribute(b,d):a.setAttribute(b,c)},initNavToggleSubmenus:function(){var a=document.querySelectorAll(".nav--toggle-sub");if(a.length)for(let b=0;b<a.length;b++)window.kadence.initEachNavToggleSubmenu(a[b])},initEachNavToggleSubmenu:function(a){var b=a.querySelectorAll(".menu ul");if(b.length)for(let f=0;f<b.length;f++){var c=b[f].parentNode;let g=c.querySelector(".dropdown-nav-toggle");if(g){var d=c.querySelector(".nav-drop-title-wrap").firstChild.textContent.trim(),e=document.createElement("BUTTON");e.setAttribute("aria-label",d?kadenceConfig.screenReader.expandOf+" "+d:kadenceConfig.screenReader.expand),e.setAttribute("aria-haspopup","menu"),e.setAttribute("aria-expanded","false"),e.classList.add("dropdown-nav-special-toggle"),c.insertBefore(e,c.childNodes[1]),e.addEventListener("click",function(a){a.preventDefault(),window.kadence.toggleSubMenu(a.target.parentNode)}),a.classList.contains("click-to-open")||c.addEventListener("mouseleave",function(a){var b=a.relatedTarget;b&&c.contains(b)||window.kadence.toggleSubMenu(c,!1)}),c.querySelector("a").addEventListener("focus",function(a){var b=a.target.parentNode.parentNode.querySelectorAll("li.menu-item--toggled-on");for(let d=0;d<b.length;d++)c!==b[d]&&window.kadence.toggleSubMenu(b[d],!1)}),b[f].addEventListener("keydown",function(a){if(9===a.keyCode){var c="ul.toggle-show > li > a, ul.toggle-show > li > .dropdown-nav-special-toggle";b[f].parentNode.classList.contains("kadence-menu-mega-enabled")&&(c="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex=\"0\"], [contenteditable]"),a.shiftKey?window.kadence.isfirstFocusableElement(b[f],document.activeElement,c)&&window.kadence.toggleSubMenu(b[f].parentNode,!1):window.kadence.islastFocusableElement(b[f],document.activeElement,c)&&window.kadence.toggleSubMenu(b[f].parentNode,!1)}27===a.keyCode&&(window.kadence.toggleSubMenu(b[f].parentNode,!1),b[f].parentNode.querySelector(".dropdown-nav-special-toggle").focus())}),b[f].parentNode.classList.add("menu-item--has-toggle")}}},toggleSubMenu:function(a,b){if(!a||"LI"!==a.tagName||!a.querySelector("ul"))return;var c=a.querySelector(".dropdown-nav-special-toggle"),d=a.querySelector("ul"),e=a.querySelector(".nav-drop-title-wrap").firstChild.textContent.trim();let f=a.classList.contains("menu-item--toggled-on")||d&&d.classList.contains("opened");void 0!==b&&"boolean"==typeof b&&(f=!b);var g=(!f).toString();if(c&&c.setAttribute("aria-expanded",g),f){setTimeout(function(){a.classList.remove("menu-item--toggled-on"),d&&(d.classList.remove("toggle-show"),d.classList.remove("opened")),c&&c.setAttribute("aria-label",e?kadenceConfig.screenReader.expandOf+" "+e:kadenceConfig.screenReader.expand)},5);var h=a.querySelectorAll(".menu-item--toggled-on");for(let a=0;a<h.length;a++)window.kadence.toggleSubMenu(h[a],!1)}else{var j=a.parentNode.querySelectorAll("li");for(let b=0;b<j.length;b++)if(j[b]!==a){var k=j[b].querySelector("ul");k&&(j[b].classList.contains("menu-item--toggled-on")||k.classList.contains("opened"))&&window.kadence.toggleSubMenu(j[b],!1)}a.classList.add("menu-item--toggled-on"),d&&(d.classList.add("toggle-show"),d.classList.add("opened")),c&&c.setAttribute("aria-label",e?kadenceConfig.screenReader.collapseOf+" "+e:kadenceConfig.screenReader.collapse)}},isfirstFocusableElement:function(a,b,c){var d=a.querySelectorAll(c);return!!(0<d.length)&&b===d[0]},islastFocusableElement:function(a,b,c){var d=a.querySelectorAll(c);return!!(0<d.length)&&b===d[d.length-1]},toggleDrawer:function(a,b){b="undefined"==typeof b||b;var c=a,d=document.querySelector(c.dataset.toggleTarget),e=document,f=window.innerWidth-document.documentElement.clientWidth,g=c.dataset.toggleDuration?c.dataset.toggleDuration:250;if(window.kadence.toggleAttribute(c,"aria-expanded","true","false"),d.classList.contains("show-drawer"))c.dataset.toggleBodyClass&&e.body.classList.remove(c.dataset.toggleBodyClass),d.classList.remove("active"),d.classList.remove("pop-animated"),e.body.classList.remove("kadence-scrollbar-fixer"),setTimeout(function(){if(d.classList.remove("show-drawer"),c.dataset.setFocus&&b){var a=document.querySelector(c.dataset.setFocus);a&&(a.focus(),a.hasAttribute("aria-expanded")&&window.kadence.toggleAttribute(a,"aria-expanded","true","false"))}},g);else if(d.classList.add("show-drawer"),c.dataset.toggleBodyClass&&(e.body.classList.toggle(c.dataset.toggleBodyClass),c.dataset.toggleBodyClass.includes("showing-popup-drawer-")&&(e.body.style.setProperty("--scrollbar-offset",f+"px"),e.body.classList.add("kadence-scrollbar-fixer"))),setTimeout(function(){if(d.classList.add("active"),c.dataset.setFocus,b){var a=document.querySelector(c.dataset.setFocus);if(a){a.hasAttribute("aria-expanded")&&window.kadence.toggleAttribute(a,"aria-expanded","true","false");var e=a.value;a.value="",a.focus(),a.value=e}}},10),setTimeout(function(){d.classList.add("pop-animated")},g),d.classList.contains("popup-drawer")){var h=d.querySelectorAll("button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])"),i=h[0],j=h[h.length-1];document.addEventListener("keydown",function(a){let b="Tab"===a.key||9===a.keyCode;b&&(a.shiftKey?document.activeElement===i&&(j.focus(),a.preventDefault()):document.activeElement===j&&(i.focus(),a.preventDefault()))})}},initToggleDrawer:function(){var a=document.querySelectorAll(".drawer-toggle");if(a.length){for(let b=0;b<a.length;b++)a[b].addEventListener("click",function(c){c.preventDefault(),window.kadence.toggleDrawer(a[b])});document.addEventListener("keyup",function(a){27===a.keyCode&&document.querySelectorAll(".popup-drawer.show-drawer.active")&&(a.preventDefault(),document.querySelectorAll(".popup-drawer.show-drawer.active").forEach(function(a){a.querySelector(".drawer-toggle")?window.kadence.toggleDrawer(a.querySelector(".drawer-toggle")):window.kadence.toggleDrawer(document.querySelector("*[data-toggle-target=\""+a.dataset.drawerTargetString+"\"]"))}))}),document.addEventListener("click",function(a){var b=a.target,c=document.querySelector(".show-drawer.active .drawer-overlay");b===c&&window.kadence.toggleDrawer(document.querySelector("*[data-toggle-target=\""+c.dataset.drawerTargetString+"\"]"))})}},initMobileToggleSub:function(){var a=document.querySelectorAll(".has-collapse-sub-nav");a.forEach(function(a){var b=a.querySelector(".current-menu-item");b&&window.kadence.findParents(b,"li").forEach(function(a){var b=a.querySelector(".drawer-sub-toggle");b&&window.kadence.toggleDrawer(b,!0)})});var b=document.querySelectorAll(".drawer-sub-toggle");if(b.length)for(let a=0;a<b.length;a++)b[a].addEventListener("click",function(c){c.preventDefault(),window.kadence.toggleDrawer(b[a])})},initMobileToggleAnchor:function(){var a=document.getElementById("mobile-drawer");if(a){var b=a.querySelectorAll("a:not(.kt-tab-title)");if(b.length)for(let c=0;c<b.length;c++)b[c].addEventListener("click",function(){window.kadence.toggleDrawer(a.querySelector(".menu-toggle-close"),!1)})}},initTransHeaderPadding:function(){if(!document.body.classList.contains("no-header")&&document.body.classList.contains("transparent-header")&&document.body.classList.contains("mobile-transparent-header")){var a=document.querySelector(".entry-hero-container-inner"),b=document.querySelector("#masthead"),c=function(){b,a.style.paddingTop=kadenceConfig.breakPoints.desktop<=window.innerWidth?document.body.classList.contains("transparent-header")?b.offsetHeight+"px":0:document.body.classList.contains("mobile-transparent-header")?b.offsetHeight+"px":0};a&&(window.addEventListener("resize",c,!1),window.addEventListener("scroll",c,!1),window.addEventListener("load",c,!1),c())}},getTopOffset:function(){var a=0;kadenceConfig.breakPoints.desktop<=window.innerWidth?document.body.classList.contains("admin-bar")&&(a=32):a=0;let b=0,c=!1;const d=document.querySelector(".wp-block-kadence-header");d&&(c=kadenceConfig.breakPoints.desktop<=window.innerWidth?d.classList.contains("header-desktop-sticky"):d.classList.contains("header-mobile-sticky"),c&&(b=d.offsetHeight));const e=d&&c?b:0;return Math.floor(e+a)},initStickySidebar:function(){if(document.body.classList.contains("has-sticky-sidebar")){var a=window.kadence.getTopOffset(),b=document.querySelector("#secondary .sidebar-inner-wrap");b.style.top=Math.floor(a+20)+"px",b.style.maxHeight="calc( 100vh - "+Math.floor(a+20)+"px )"}},initHoverSubmenuAria:function(){var a=document.querySelectorAll(".header-navigation.nav--toggle-sub:not(.click-to-open)");a.forEach(function(a){var b=a.querySelectorAll(".menu-item-has-children");b.forEach(function(a){var b=a.querySelector(".dropdown-nav-special-toggle");b&&(a.addEventListener("mouseenter",function(){b.setAttribute("aria-expanded","true")}),a.addEventListener("mouseleave",function(c){var d=c.relatedTarget;d&&a.contains(d)||b.setAttribute("aria-expanded","false")}))})})},initClickToOpen:function(){const a=document.querySelectorAll(".header-navigation.click-to-open li.menu-item--has-toggle");a.forEach(function(a){const b=a.querySelector("a"),c=a.querySelector("button[class=\"dropdown-nav*\"]");[b,c].forEach(function(b){b&&b.addEventListener("click",function(b){b.preventDefault();const c=a.querySelector("ul.sub-menu");if(c){const b=c.classList.contains("opened");c.classList.toggle("opened",!b),a.classList.toggle("menu-item--toggled-on",!b),c.classList.toggle("toggle-show",!b);var d=a.querySelector(".dropdown-nav-special-toggle");d&&d.setAttribute("aria-expanded",(!b).toString());const e=Array.from(a.parentNode.children).filter(b=>b!==a);if(e.forEach(function(a){const b=a.querySelector(":scope > ul.sub-menu");if(b){b.classList.remove("opened"),a.classList.remove("menu-item--toggled-on"),b.classList.remove("toggle-show");var c=a.querySelector(".dropdown-nav-special-toggle");c&&c.setAttribute("aria-expanded","false")}}),!b){const b=d=>{if(!a.contains(d.target)){c.classList.remove("opened"),a.classList.remove("menu-item--toggled-on"),c.classList.remove("toggle-show");var e=a.querySelector(".dropdown-nav-special-toggle");e&&e.setAttribute("aria-expanded","false"),document.removeEventListener("click",b)}};document.addEventListener("click",b)}}})})})},init:function(){window.kadence.initNavToggleSubmenus(),window.kadence.initToggleDrawer(),window.kadence.initMobileToggleAnchor(),window.kadence.initMobileToggleSub(),window.kadence.initOutlineToggle(),window.kadence.initStickySidebar(),window.kadence.initTransHeaderPadding(),window.kadence.initHoverSubmenuAria(),window.kadence.initClickToOpen()}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",window.kadence.init):window.kadence.init()})();